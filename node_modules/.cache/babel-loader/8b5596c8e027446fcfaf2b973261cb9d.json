{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kamil/Desktop/Programowanie/ygo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kamil/Desktop/Programowanie/ygo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kamil/Desktop/Programowanie/ygo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./Journal.css';import Calendar from'react-calendar';import'react-calendar/dist/Calendar.css';import{db}from'../../firebase.js';import firebase from\"firebase\";import Dialog from'@material-ui/core/Dialog';import DialogActions from'@material-ui/core/DialogActions';import DialogContent from'@material-ui/core/DialogContent';import DialogContentText from'@material-ui/core/DialogContentText';import DialogTitle from'@material-ui/core/DialogTitle';import Button from'@material-ui/core/Button';export default function Journal(_ref){var user=_ref.user;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),noteValue=_useState2[0],setNoteValue=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),noteAlert=_useState4[0],setNoteAlert=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),mood=_useState8[0],setMood=_useState8[1];var handleClose=function handleClose(){setOpen(false);};var handleMood=function handleMood(e){setMood(e.target.value);};var addNote=function addNote(e){//function to add note \nvar today=new Date();var todayDate=String(today.getDate()).padStart(2,'0')+\"_\"+String(today.getMonth()+1).padStart(2,'0');e.preventDefault();db.collection(user.displayName).doc(\"notes\").collection(todayDate).add({text:noteValue,timestamp:firebase.firestore.FieldValue.serverTimestamp(),mood:mood});setNoteValue('');};function getNote(_x){return _getNote.apply(this,arguments);}function _getNote(){_getNote=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(date){var dbDate,task,taskData,taskText,taskMood;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dbDate=String(date.getDate()).padStart(2,'0')+\"_\"+String(date.getMonth()+1).padStart(2,'0');task=db.collection(user.displayName).doc(\"notes\").collection(dbDate);_context.next=4;return task.get();case 4:taskData=_context.sent;if(typeof taskData.docs[0]=='object'){taskText=taskData.docs[0].data().text;taskMood=taskData.docs[0].data().mood;setNoteAlert(taskText+\" Your mood: \"+taskMood);setOpen(true);}case 6:case\"end\":return _context.stop();}}},_callee);}));return _getNote.apply(this,arguments);}if(mood.length===0){var inputButtonClass=\"journal__inputButtonDisable\";var inputButtonText=\"FIRST, PICK YOUR MOOD\";}else{var inputButtonClass=\"journal__inputButton\";var inputButtonText=\"ADD NOTE\";}return/*#__PURE__*/React.createElement(\"div\",{className:\"journal__wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"journal__inputBox\"},/*#__PURE__*/React.createElement(\"textarea\",{className:\"journal__input\",type:\"text\",placeholder:\"My day was so productive...\",value:noteValue,onChange:function onChange(e){return setNoteValue(e.target.value);}}),/*#__PURE__*/React.createElement(\"div\",{className:\"journal__inputButtonWrapper\"},/*#__PURE__*/React.createElement(\"button\",{className:\"journal__inputButtonGood\",value:'üôÇ',onClick:handleMood},\"\\uD83D\\uDE42\"),/*#__PURE__*/React.createElement(\"button\",{className:\"journal__inputButtonNormal\",value:'üòê',onClick:handleMood},\"\\uD83D\\uDE10\"),/*#__PURE__*/React.createElement(\"button\",{className:\"journal__inputButtonBad\",value:'üôÅ',onClick:handleMood},\"\\uD83D\\uDE41\")),/*#__PURE__*/React.createElement(\"button\",{className:inputButtonClass,onClick:addNote},/*#__PURE__*/React.createElement(\"b\",null,inputButtonText))),/*#__PURE__*/React.createElement(\"div\",{className:\"journal__chart\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\"},/*#__PURE__*/React.createElement(DialogTitle,{id:\"alert-dialog-title\"},\"Note: \"),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(DialogContentText,{id:\"alert-dialog-description\"},noteAlert)),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:handleClose,color:\"primary\",autoFocus:true},\"Close\"))),/*#__PURE__*/React.createElement(Calendar,{value:new Date(),onChange:function onChange(value){return getNote(value);}}))));}","map":{"version":3,"sources":["/Users/kamil/Desktop/Programowanie/ygo/src/components/journal/Journal.js"],"names":["React","useState","Calendar","db","firebase","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Button","Journal","user","noteValue","setNoteValue","noteAlert","setNoteAlert","open","setOpen","mood","setMood","handleClose","handleMood","e","target","value","addNote","today","Date","todayDate","String","getDate","padStart","getMonth","preventDefault","collection","displayName","doc","add","text","timestamp","firestore","FieldValue","serverTimestamp","getNote","date","dbDate","task","get","taskData","docs","taskText","data","taskMood","length","inputButtonClass","inputButtonText"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport './Journal.css'\nimport Calendar from 'react-calendar';\nimport 'react-calendar/dist/Calendar.css';\nimport { db } from '../../firebase.js'\nimport firebase from \"firebase\"\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\n\nexport default function Journal({user}) {\n\n  const [noteValue, setNoteValue] = useState('');\n  const [noteAlert, setNoteAlert] = useState('');\n  const [open, setOpen] = useState(false);\n  const [mood, setMood] = useState('');\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleMood = e => {\n    setMood(e.target.value)\n  };\n  const addNote = (e) => {  //function to add note \n    const today = new Date()\n    const todayDate = String(today.getDate()).padStart(2, '0') + \"_\" + String(today.getMonth() + 1).padStart(2, '0');\n    e.preventDefault();\n    db.collection(user.displayName).doc(\"notes\").collection(todayDate).add({\n        text: noteValue,\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n        mood: mood\n    })\n    setNoteValue('');\n}\n\n  async function getNote(date){\n  const dbDate = String(date.getDate()).padStart(2, '0') + \"_\" + String(date.getMonth() + 1).padStart(2, '0'); \n    const task = db.collection(user.displayName).doc(\"notes\").collection(dbDate); \n    let taskData = await task.get()\n \n    if(typeof taskData.docs[0] == 'object'){\n    let taskText = taskData.docs[0].data().text\n    let taskMood = taskData.docs[0].data().mood\n    setNoteAlert(taskText +\" Your mood: \" + taskMood)\n    setOpen(true)\n    }\n}\n\nif(mood.length===0){\n  var inputButtonClass = \"journal__inputButtonDisable\"\n  var inputButtonText = \"FIRST, PICK YOUR MOOD\"\n}else{\n  var inputButtonClass = \"journal__inputButton\"\n  var inputButtonText = \"ADD NOTE\"\n}\n\n    return (\n    <div className=\"journal__wrapper\">\n        \n  <div className=\"journal__inputBox\">\n  \n\t  <textarea className=\"journal__input\" type=\"text\" placeholder=\"My day was so productive...\" value={noteValue} onChange={e => setNoteValue(e.target.value)}/>\n    <div className=\"journal__inputButtonWrapper\">\n    <button className=\"journal__inputButtonGood\" value={'üôÇ'} onClick={handleMood}>üôÇ</button>\n    <button className=\"journal__inputButtonNormal\" value={'üòê'} onClick={handleMood}>üòê</button>\n    <button className=\"journal__inputButtonBad\" value={'üôÅ'} onClick={handleMood}>üôÅ</button>\n    </div>\n    \n    \n    <button className={inputButtonClass} onClick={addNote}><b>{inputButtonText}</b></button>\n    \n    </div>\n        <div className=\"journal__chart\">\n          {\n    \n      <div>\n        <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Note: \"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            {noteAlert}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\" autoFocus>\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n        <Calendar\n          value={new Date()}\n          onChange={(value) => getNote(value)}\n        />\n      </div>\n    \n  }\n\n        </div>\n\n    </div>\n    )\n\n\n} "]},"metadata":{},"sourceType":"module"}