{"ast":null,"code":"var _jsxFileName = \"/Users/kamil/Desktop/Programowanie/ygo/src/components/todo_list/ToDoList.js\";\nimport React, { useState, useEffect } from 'react';\nimport './ToDoList.css';\nimport { db } from '../../firebase.js';\nimport firebase from \"firebase\";\nexport default function ToDoList({\n  user\n}) {\n  const [newTaskValue, setTask] = useState(\"\");\n  const [tasks, setTasks] = useState([]);\n  const today = new Date();\n  const todayDate = String(today.getDate()).padStart(2, '0') + \"_\" + String(today.getMonth() + 1).padStart(2, '0');\n\n  const addTask = e => {\n    //function to add task\n    e.preventDefault();\n    db.collection(user.displayName).doc(\"ToDoList\").collection(todayDate).add({\n      text: newTaskValue,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp()\n    });\n    setTask('');\n  };\n\n  console.log(user.displayName);\n  useEffect(() => {\n    //function to download task from today.\n    async function getToDoItems() {\n      db.collection(\"user.displayName\").doc(\"ToDoList\").collection(todayDate) //todayDate\n      .orderBy(\"timestamp\", \"desc\").onSnapshot(snapshot => {\n        setTasks(snapshot.docs.map(doc => doc.data()));\n      });\n    }\n\n    getToDoItems();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"toDoList__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, tasks.map(task => /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }, task.text)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"toDoList__addTask\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: newTaskValue,\n    onChange: e => setTask(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Add Task\")));\n}","map":{"version":3,"sources":["/Users/kamil/Desktop/Programowanie/ygo/src/components/todo_list/ToDoList.js"],"names":["React","useState","useEffect","db","firebase","ToDoList","user","newTaskValue","setTask","tasks","setTasks","today","Date","todayDate","String","getDate","padStart","getMonth","addTask","e","preventDefault","collection","displayName","doc","add","text","timestamp","firestore","FieldValue","serverTimestamp","console","log","getToDoItems","orderBy","onSnapshot","snapshot","docs","map","data","task","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,gBAAP;AACA,SAASC,EAAT,QAAmB,mBAAnB;AACA,OAAOC,QAAP,MAAqB,UAArB;AAEA,eAAe,SAASC,QAAT,CAAkB;AAACC,EAAAA;AAAD,CAAlB,EAA0B;AACrC,QAAM,CAACC,YAAD,EAAeC,OAAf,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AAGA,QAAMU,KAAK,GAAG,IAAIC,IAAJ,EAAd;AACA,QAAMC,SAAS,GAAGC,MAAM,CAACH,KAAK,CAACI,OAAN,EAAD,CAAN,CAAwBC,QAAxB,CAAiC,CAAjC,EAAoC,GAApC,IAA2C,GAA3C,GAAiDF,MAAM,CAACH,KAAK,CAACM,QAAN,KAAmB,CAApB,CAAN,CAA6BD,QAA7B,CAAsC,CAAtC,EAAyC,GAAzC,CAAnE;;AAIA,QAAME,OAAO,GAAIC,CAAD,IAAO;AAAG;AACtBA,IAAAA,CAAC,CAACC,cAAF;AACCjB,IAAAA,EAAE,CAACkB,UAAH,CAAcf,IAAI,CAACgB,WAAnB,EAAgCC,GAAhC,CAAoC,UAApC,EAAgDF,UAAhD,CAA2DR,SAA3D,EAAsEW,GAAtE,CAA0E;AACtEC,MAAAA,IAAI,EAAElB,YADgE;AAEtEmB,MAAAA,SAAS,EAAEtB,QAAQ,CAACuB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B;AAF2D,KAA1E;AAIArB,IAAAA,OAAO,CAAC,EAAD,CAAP;AACH,GAPF;;AAQCsB,EAAAA,OAAO,CAACC,GAAR,CAAYzB,IAAI,CAACgB,WAAjB;AAEApB,EAAAA,SAAS,CAAC,MAAM;AAAG;AACb,mBAAe8B,YAAf,GAA6B;AAC3B7B,MAAAA,EAAE,CACEkB,UADJ,CACe,kBADf,EAEIE,GAFJ,CAEQ,UAFR,EAGIF,UAHJ,CAGeR,SAHf,EAG0B;AAH1B,OAIIoB,OAJJ,CAIY,WAJZ,EAIyB,MAJzB,EAKIC,UALJ,CAKgBC,QAAD,IAAa;AACrBzB,QAAAA,QAAQ,CAACyB,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAmBd,GAAD,IAASA,GAAG,CAACe,IAAJ,EAA3B,CAAD,CAAR;AACH,OAPJ;AAQD;;AACLN,IAAAA,YAAY;AACd,GAZS,EAYP,EAZO,CAAT;AAeD,sBACA;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCvB,KAAK,CAAC4B,GAAN,CAAWE,IAAD,iBACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,IAAI,CAACd,IAAV,CADJ,CADP,CADD,CADR,eAWI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,KAAK,EAAElB,YAA1B;AAAwC,IAAA,QAAQ,EAAEY,CAAC,IAAIX,OAAO,CAACW,CAAC,CAACqB,MAAF,CAASC,KAAV,CAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAQ,IAAA,OAAO,EAAEvB,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,CAXJ,CADA;AAkBH","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport './ToDoList.css'\nimport { db } from '../../firebase.js'\nimport firebase from \"firebase\"\n\nexport default function ToDoList({user}) {\n    const [newTaskValue, setTask] = useState(\"\")\n    const [tasks, setTasks] = useState([])\n\n\n    const today = new Date()\n    const todayDate = String(today.getDate()).padStart(2, '0') + \"_\" + String(today.getMonth() + 1).padStart(2, '0');\n\n\n\n    const addTask = (e) => {  //function to add task\n        e.preventDefault();\n         db.collection(user.displayName).doc(\"ToDoList\").collection(todayDate).add({\n             text: newTaskValue,\n             timestamp: firebase.firestore.FieldValue.serverTimestamp()\n         })\n         setTask('');\n     } \n     console.log(user.displayName)\n     \n     useEffect(() => {  //function to download task from today.\n           async function getToDoItems(){ \n             db \n                .collection(\"user.displayName\")\n                .doc(\"ToDoList\")\n                .collection(todayDate) //todayDate\n                .orderBy(\"timestamp\", \"desc\")\n                .onSnapshot((snapshot) =>{\n                    setTasks(snapshot.docs.map((doc) => doc.data()));\n                });\n           }\n       getToDoItems()\n    }, [])\n    \n    \n    return (\n    <div className=\"toDoList__list\">\n            <ul>\n            {tasks.map((task) => (\n                    <p>\n                        <li>{task.text}</li> \n                    </p>\n                )\n                \n                )}\n            </ul>\n        \n        <div className=\"toDoList__addTask\">\n            <input type=\"text\" value={newTaskValue} onChange={e => setTask(e.target.value)}></input>\n            <button onClick={addTask}>Add Task</button>\n    </div>\n    </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}