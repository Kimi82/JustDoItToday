{"ast":null,"code":"var _jsxFileName = \"/Users/kamil/Desktop/Programowanie/ygo/src/components/journal/Journal.js\";\nimport React, { useState } from 'react';\nimport './Journal.css';\nimport Calendar from 'react-calendar';\nimport 'react-calendar/dist/Calendar.css';\nimport { db } from '../../firebase.js';\nimport firebase from \"firebase\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nexport default function Journal({\n  user\n}) {\n  const [noteValue, setNoteValue] = useState('');\n  const [noteAlert, setNoteAlert] = useState('');\n  const [open, setOpen] = useState(false);\n  const [mood, setMood] = useState('');\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleMood = e => {\n    setMood(e.target.value);\n  };\n\n  const addNote = e => {\n    //function to add note \n    const today = new Date();\n    const todayDate = String(today.getDate()).padStart(2, '0') + \"_\" + String(today.getMonth() + 1).padStart(2, '0');\n    e.preventDefault();\n    db.collection(user.displayName).doc(\"notes\").collection(todayDate).add({\n      text: noteValue,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n      mood: mood\n    });\n    setNoteValue('');\n  };\n\n  async function getNote(date) {\n    const dbDate = String(date.getDate()).padStart(2, '0') + \"_\" + String(date.getMonth() + 1).padStart(2, '0');\n    const task = db.collection(user.displayName).doc(\"notes\").collection(dbDate);\n    let taskData = await task.get();\n\n    if (typeof taskData.docs[0] == 'object') {\n      let taskText = taskData.docs[0].data().text;\n      let taskMood = taskData.docs[0].data().mood;\n      setNoteAlert(taskText + \" Your mood: \" + taskMood);\n      setOpen(true);\n    }\n  }\n\n  if (mood.length === 0) {\n    var inputButtonClass = \"journal__inputButtonDisable\";\n    var inputButtonText = \"FIRST, PICK YOUR MOOD\";\n  } else {\n    var inputButtonClass = \"journal__inputButton\";\n    var inputButtonText = \"ADD NOTE\";\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"journal__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"journal__inputBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"journal__input\",\n    type: \"text\",\n    placeholder: \"Describe your today mood\",\n    value: noteValue,\n    onChange: e => setNoteValue(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"journal__inputButtonWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"journal__inputButtonGood\",\n    value: '🙂',\n    onClick: handleMood,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, \"\\uD83D\\uDE42\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"journal__inputButtonNormal\",\n    value: '😐',\n    onClick: handleMood,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, \"\\uD83D\\uDE10\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"journal__inputButtonBad\",\n    value: '🙁',\n    onClick: handleMood,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, \"\\uD83D\\uDE41\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: inputButtonClass,\n    onClick: addNote,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 60\n    }\n  }, inputButtonText))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"journal__chart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"alert-dialog-title\",\n    \"aria-describedby\": \"alert-dialog-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"alert-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, \"Note: \"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogContentText, {\n    id: \"alert-dialog-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, noteAlert)), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClose,\n    color: \"primary\",\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, \"Close\"))), /*#__PURE__*/React.createElement(Calendar, {\n    value: new Date(),\n    onChange: value => getNote(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/kamil/Desktop/Programowanie/ygo/src/components/journal/Journal.js"],"names":["React","useState","Calendar","db","firebase","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Button","Journal","user","noteValue","setNoteValue","noteAlert","setNoteAlert","open","setOpen","mood","setMood","handleClose","handleMood","e","target","value","addNote","today","Date","todayDate","String","getDate","padStart","getMonth","preventDefault","collection","displayName","doc","add","text","timestamp","firestore","FieldValue","serverTimestamp","getNote","date","dbDate","task","taskData","get","docs","taskText","data","taskMood","length","inputButtonClass","inputButtonText"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport './Journal.css'\nimport Calendar from 'react-calendar';\nimport 'react-calendar/dist/Calendar.css';\nimport { db } from '../../firebase.js'\nimport firebase from \"firebase\"\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\n\nexport default function Journal({user}) {\n\n  const [noteValue, setNoteValue] = useState('');\n  const [noteAlert, setNoteAlert] = useState('');\n  const [open, setOpen] = useState(false);\n  const [mood, setMood] = useState('');\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleMood = e => {\n    setMood(e.target.value)\n  };\n  const addNote = (e) => {  //function to add note \n    const today = new Date()\n    const todayDate = String(today.getDate()).padStart(2, '0') + \"_\" + String(today.getMonth() + 1).padStart(2, '0');\n    e.preventDefault();\n    db.collection(user.displayName).doc(\"notes\").collection(todayDate).add({\n        text: noteValue,\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n        mood: mood\n    })\n    setNoteValue('');\n}\n\n  async function getNote(date){\n  const dbDate = String(date.getDate()).padStart(2, '0') + \"_\" + String(date.getMonth() + 1).padStart(2, '0'); \n    const task = db.collection(user.displayName).doc(\"notes\").collection(dbDate); \n    let taskData = await task.get()\n \n    if(typeof taskData.docs[0] == 'object'){\n    let taskText = taskData.docs[0].data().text\n    let taskMood = taskData.docs[0].data().mood\n    setNoteAlert(taskText +\" Your mood: \" + taskMood)\n    setOpen(true)\n    }\n}\n\nif(mood.length===0){\n  var inputButtonClass = \"journal__inputButtonDisable\"\n  var inputButtonText = \"FIRST, PICK YOUR MOOD\"\n}else{\n  var inputButtonClass = \"journal__inputButton\"\n  var inputButtonText = \"ADD NOTE\"\n}\n\n    return (\n    <div className=\"journal__wrapper\">\n        \n  <div className=\"journal__inputBox\">\n  \n\t  <textarea className=\"journal__input\" type=\"text\" placeholder=\"Describe your today mood\" value={noteValue} onChange={e => setNoteValue(e.target.value)}/>\n    <div className=\"journal__inputButtonWrapper\">\n    <button className=\"journal__inputButtonGood\" value={'🙂'} onClick={handleMood}>🙂</button>\n    <button className=\"journal__inputButtonNormal\" value={'😐'} onClick={handleMood}>😐</button>\n    <button className=\"journal__inputButtonBad\" value={'🙁'} onClick={handleMood}>🙁</button>\n    </div>\n    \n    \n    <button className={inputButtonClass} onClick={addNote}><b>{inputButtonText}</b></button>\n    \n    </div>\n        <div className=\"journal__chart\">\n          {\n    \n  <>\n        <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Note: \"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            {noteAlert}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\" autoFocus>\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n        <Calendar\n          value={new Date()}\n          onChange={(value) => getNote(value)}\n        />\n\n    </>\n  }\n\n        </div>\n\n    </div>\n    )\n\n\n} "]},"metadata":{},"sourceType":"module"}